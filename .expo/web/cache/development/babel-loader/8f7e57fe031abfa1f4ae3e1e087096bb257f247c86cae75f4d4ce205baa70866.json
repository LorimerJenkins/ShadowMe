{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport React, { useContext } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { logIn } from \"../utils/OthentAuth\";\nimport { AuthContext } from \"../utils/AuthSession\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar LoginScreen = function LoginScreen(_ref) {\n  var navigation = _ref.navigation;\n  var _useContext = useContext(AuthContext),\n    setUserDetails = _useContext.setUserDetails;\n  var handleLogin = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      var _yield$logIn = yield logIn(),\n        success = _yield$logIn.success,\n        userDetails = _yield$logIn.userDetails,\n        error = _yield$logIn.error;\n      if (success) {\n        setUserDetails(userDetails);\n        navigation.replace('Home');\n      } else {\n        Alert.alert('Login Error', error.toString());\n      }\n    });\n    return function handleLogin() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(Image, {\n      source: require(\"../assets/images/app/header-icon.png\"),\n      style: styles.logo\n    }), _jsx(TouchableOpacity, {\n      style: styles.loginButton,\n      onPress: handleLogin,\n      children: _jsx(Text, {\n        style: styles.buttonText,\n        children: \"Login\"\n      })\n    })]\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  logo: {\n    width: 247.5,\n    height: 67.5,\n    marginBottom: 50\n  },\n  loginButton: {\n    paddingVertical: 15,\n    paddingHorizontal: 30,\n    borderRadius: 8\n  },\n  buttonText: {\n    color: 'black',\n    fontSize: 18,\n    fontWeight: 'bold'\n  }\n});\nexport default LoginScreen;","map":{"version":3,"names":["React","useContext","View","Image","StyleSheet","TouchableOpacity","Text","Alert","logIn","AuthContext","jsx","_jsx","jsxs","_jsxs","LoginScreen","_ref","navigation","_useContext","setUserDetails","handleLogin","_ref2","_asyncToGenerator","_yield$logIn","success","userDetails","error","replace","alert","toString","apply","arguments","style","styles","container","children","source","require","logo","loginButton","onPress","buttonText","create","flex","justifyContent","alignItems","width","height","marginBottom","paddingVertical","paddingHorizontal","borderRadius","color","fontSize","fontWeight"],"sources":["/Users/Lorimer/Desktop/Othent.io/ShadowMe/src/tabs/LoginTab.tsx"],"sourcesContent":["import React, { useContext } from 'react';\nimport { View, Image, StyleSheet, TouchableOpacity, Text, Alert } from 'react-native';\nimport { StackNavigationProp } from '@react-navigation/stack';\nimport { logIn } from '../utils/OthentAuth';\nimport { AuthContext } from '../utils/AuthSession';\n\n\ntype RootStackParamList = {\n  Login: undefined;\n  Home: undefined;\n  PropertyDetail: {\n    property: {\n      imageURLs: string[];\n      title: string;\n      description: string;\n      price: number;\n    };\n  };\n};\n\ninterface UserDetails {\n  at_hash: string;\n  aud: string;\n  contract_id: string;\n  email: string;\n  email_verified: boolean;\n  exp: number;\n  family_name: string;\n  given_name: string;\n  iat: number;\n  iss: string;\n  locale: string;\n  name: string;\n  nickname: string;\n  nonce: string;\n  picture: string;\n  sid: string;\n  sub: string;\n  updated_at: string;\n}\n\ntype LoginScreenNavigationProp = StackNavigationProp<RootStackParamList, 'Login'>;\n\ninterface LoginScreenProps {\n  navigation: LoginScreenNavigationProp;\n}\n\nconst LoginScreen = ({ navigation }: LoginScreenProps) => {\n  const { setUserDetails } = useContext(AuthContext);\n\n  const handleLogin = async () => {\n    const { success, userDetails, error } = await logIn();\n    if (success) {\n      setUserDetails(userDetails as UserDetails);\n      navigation.replace('Home');\n    } else {\n      Alert.alert('Login Error', (error as any).toString());\n    }\n  };\n\n  return (\n    <View style={styles.container}>\n      <Image source={require('../assets/images/app/header-icon.png')} style={styles.logo} />\n      <TouchableOpacity style={styles.loginButton} onPress={handleLogin}>\n        <Text style={styles.buttonText}>Login</Text>\n      </TouchableOpacity>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  logo: {\n    width: 247.5,\n    height: 67.5,\n    marginBottom: 50,\n  },\n  loginButton: {\n    paddingVertical: 15,\n    paddingHorizontal: 30,\n    borderRadius: 8,\n  },\n  buttonText: {\n    color: 'black',\n    fontSize: 18,\n    fontWeight: 'bold',\n  },\n});\n\nexport default LoginScreen;\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,UAAU,QAAQ,OAAO;AAAC,OAAAC,IAAA;AAAA,OAAAC,KAAA;AAAA,OAAAC,UAAA;AAAA,OAAAC,gBAAA;AAAA,OAAAC,IAAA;AAAA,OAAAC,KAAA;AAG1C,SAASC,KAAK;AACd,SAASC,WAAW;AAA+B,SAAAC,GAAA,IAAAC,IAAA;AAAA,SAAAC,IAAA,IAAAC,KAAA;AA2CnD,IAAMC,WAAW,GAAG,SAAdA,WAAWA,CAAAC,IAAA,EAAyC;EAAA,IAAnCC,UAAU,GAAAD,IAAA,CAAVC,UAAU;EAC/B,IAAAC,WAAA,GAA2BhB,UAAU,CAACQ,WAAW,CAAC;IAA1CS,cAAc,GAAAD,WAAA,CAAdC,cAAc;EAEtB,IAAMC,WAAW;IAAA,IAAAC,KAAA,GAAAC,iBAAA,CAAG,aAAY;MAC9B,IAAAC,YAAA,SAA8Cd,KAAK,CAAC,CAAC;QAA7Ce,OAAO,GAAAD,YAAA,CAAPC,OAAO;QAAEC,WAAW,GAAAF,YAAA,CAAXE,WAAW;QAAEC,KAAK,GAAAH,YAAA,CAALG,KAAK;MACnC,IAAIF,OAAO,EAAE;QACXL,cAAc,CAACM,WAA0B,CAAC;QAC1CR,UAAU,CAACU,OAAO,CAAC,MAAM,CAAC;MAC5B,CAAC,MAAM;QACLnB,KAAK,CAACoB,KAAK,CAAC,aAAa,EAAGF,KAAK,CAASG,QAAQ,CAAC,CAAC,CAAC;MACvD;IACF,CAAC;IAAA,gBARKT,WAAWA,CAAA;MAAA,OAAAC,KAAA,CAAAS,KAAA,OAAAC,SAAA;IAAA;EAAA,GAQhB;EAED,OACEjB,KAAA,CAACX,IAAI;IAAC6B,KAAK,EAAEC,MAAM,CAACC,SAAU;IAAAC,QAAA,GAC5BvB,IAAA,CAACR,KAAK;MAACgC,MAAM,EAAEC,OAAO,uCAAuC,CAAE;MAACL,KAAK,EAAEC,MAAM,CAACK;IAAK,CAAE,CAAC,EACtF1B,IAAA,CAACN,gBAAgB;MAAC0B,KAAK,EAAEC,MAAM,CAACM,WAAY;MAACC,OAAO,EAAEpB,WAAY;MAAAe,QAAA,EAChEvB,IAAA,CAACL,IAAI;QAACyB,KAAK,EAAEC,MAAM,CAACQ,UAAW;QAAAN,QAAA,EAAC;MAAK,CAAM;IAAC,CAC5B,CAAC;EAAA,CACf,CAAC;AAEX,CAAC;AAED,IAAMF,MAAM,GAAG5B,UAAU,CAACqC,MAAM,CAAC;EAC/BR,SAAS,EAAE;IACTS,IAAI,EAAE,CAAC;IACPC,cAAc,EAAE,QAAQ;IACxBC,UAAU,EAAE;EACd,CAAC;EACDP,IAAI,EAAE;IACJQ,KAAK,EAAE,KAAK;IACZC,MAAM,EAAE,IAAI;IACZC,YAAY,EAAE;EAChB,CAAC;EACDT,WAAW,EAAE;IACXU,eAAe,EAAE,EAAE;IACnBC,iBAAiB,EAAE,EAAE;IACrBC,YAAY,EAAE;EAChB,CAAC;EACDV,UAAU,EAAE;IACVW,KAAK,EAAE,OAAO;IACdC,QAAQ,EAAE,EAAE;IACZC,UAAU,EAAE;EACd;AACF,CAAC,CAAC;AAEF,eAAevC,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}